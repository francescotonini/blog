<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=author content="Francesco Tonini"><meta name=description content="My C# solution to the &#34;Book&#34; problem of Google HashCode 2020 online round"><meta name=keywords content="blog  thoughts  achievements  developer  student  ai  iot  ios  android  app  csharp  c  c++  nodejs  dotnet  windowsphone  windows  deeplearning  machinelearning  trackbot  pricetrackbot  botfactory  botfactoryit  javascript  linux  telegram  apple  univraule  univrorari  bot  unitn  univr"><meta property="og:title" content="My solution to the Google HashCode 2020 online round"><meta property="og:description" content="My C# solution to the &#34;Book&#34; problem of Google HashCode 2020 online round"><meta property="og:type" content="article"><meta property="og:url" content="https://tonini.dev/post/hashcode2020/"><meta property="article:published_time" content="2020-02-08T21:20:35+02:00"><meta property="article:modified_time" content="2020-04-20T16:55:00+02:00"><meta property="og:site_name" content="Francesco Tonini"><meta property="og:locale" content="en-US"><meta name=twitter:card content="summary"><meta name=twitter:title content="My solution to the Google HashCode 2020 online round"><meta name=twitter:description content="Hi everyone! This post goes through the story behind the development of my solution for the Google HashCode 2020 online round. If you have never heard of Google HashCode, it is a team coding competition made by Google to solve engineering problems. There is no programming language constraints, just a problem to solve in a fixed amount of time. After the online round, the best teams will be invited by Google for the final round."><link rel=canonical href=https://tonini.dev/post/hashcode2020/><link media=screen rel=stylesheet href=https://tonini.dev/css/common.css><link media=screen rel=stylesheet href=https://tonini.dev/css/content.css><link media=screen rel=stylesheet href=https://tonini.dev/css/highlight.css><title>My solution to the Google HashCode 2020 online round - Francesco Tonini</title><link rel=stylesheet href=https://tonini.dev/css/single.css></head><body><div id=wrapper><header id=header><h1><a href=https://tonini.dev>Francesco Tonini</a></h1><nav><span class=nav-bar-item><a class=link href=/>Post</a></span>
<span class=nav-bar-item><a class=link href=/post/>Archives</a></span>
<span class=nav-bar-item><a class=link href=/about/>About</a></span></nav></header><main id=main class=post><h1>My solution to the Google HashCode 2020 online round</h1><div><b>Keywords:</b>
<a class=link href=https://tonini.dev/tags/google>#google</a>
<a class=link href=https://tonini.dev/tags/hashcode>#hashcode</a>
<a class=link href=https://tonini.dev/tags/csharp>#csharp</a></div><div class=content><p>Hi everyone! This post goes through the story behind the development of my solution for the Google HashCode 2020 online round. If you have never heard of Google HashCode, it is a team coding competition made by Google to solve engineering problems. There is no programming language constraints, just a problem to solve in a fixed amount of time. After the online round, the best teams will be invited by Google for the final round.</p><p>Yesterday&rsquo;s problem was to plan which books to scan from a set of libraries. Each book has its own score and the goal was to maximize the total score of scanned books. The full problem statement will be available on the Google HashCode website shortly.</p><p>Enough of that, let&rsquo;s make our hands dirty. This solution is available on <a href=https://github.com/francescotonini/hashcode-books>GitHub</a> and it is written in C# (don&rsquo;t be scared by that, if you known a bit of Java and lambda you&rsquo;ll be fine).</p><h2 id=a-naive-approach>A naive approach</h2><p>First of all, I had to find a metric to sort each library and pick the best ones. I decided to calculate the score of each library, then sort them in descending order, and output it.</p><p><img src=https://dev-to-uploads.s3.amazonaws.com/i/plaeo5lm7rjkrljsv1kx.png alt="Oh boy, that&rsquo;s bad"></p><p>Unsurprisingly, the total score was terrible. What I didn&rsquo;t take into consideration were two main facts: first, two or more libraries may have the same book, but I only need to scan it once; second, what should I do when two libraries have the same score? How should I prioritize one over the other?</p><h2 id=less-duplicates-more-score>Less duplicates, more score?</h2><p>So I was back to the drawing board. This time, when I am facing two or more libraries with the same score, I pick the one with the least signup time, so that to allow more books to be scanned in parallel. Also, the score of a library takes into account only books that haven&rsquo;t been scanned before. That should fix it!</p><h2 id=so-job-done>So, job done?</h2><p><img src=https://dev-to-uploads.s3.amazonaws.com/i/5ou6vmoc7z6u7rvmht6u.jpg alt="Well yes, but actually no"></p><p>While I did improve the score on one dataset, the others were just like the first attempt. Also, the dataset &ldquo;D&rdquo; was really slow, but we&rsquo;ll get back to it later on.</p><p>So, as you may expect, I was back to the drawing board again; yet, something wasn&rsquo;t adding up. What if instead to sorting by score, then signup time, I do signup time first, then score?</p><script type=application/javascript src="https://gist.github.com/francescotonini/531ae2d1064179411844999b8969ab02.js?file=Program.cs"></script><p>Oh well, that was the kind of improvement I was looking for.</p><p><img src=https://dev-to-uploads.s3.amazonaws.com/i/3vafiffhkjq8hh35qv4f.png alt="That&rsquo;s better"></p><h2 id=about-dataset-d---tough-choices>About dataset &ldquo;D - tough choices&rdquo;</h2><p>While I was happy with the overall result, I had to find a solution for dataset &ldquo;D&rdquo;, which on the above implementation was painfully slow. While looking at the data I realized that all books have a score of 65, meaning that I didn&rsquo;t need to calculate the score, I just had to multiply the number of books that can be scanned every day by the number of days and 65. This was fundamental to keep the execution time at a reasonable level (remember that we have a limited amount of time).</p><script type=application/javascript src="https://gist.github.com/francescotonini/531ae2d1064179411844999b8969ab02.js?file=Library.cs"></script><p>This has been a hell of a ride, but it was worth it. It&rsquo;s not the perfect score, but I am more than happy about the result.</p><p>If you would like to see my implementation, head over to <a href=https://github.com/francescotonini/hashcode-books>GitHub</a>. If you like this article, please consider sharing it with friends and colleagues. Ciao!</p></div><div class=paginator><a></a><a class=link href=https://tonini.dev/post/ubuntu-20-04-hyperv/>next</a></div><div class=comment></div></main><footer id=footer><div><span>Â© 2019</span> - <span>2020</span></div><div><span>Powered by</span>
<a class=link href=https://gohugo.io/>Hugo</a>
<span>-</span>
<a class=link href=https://github.com/francescotonini/texify>TeXify</a></div><div class=footnote><span>Follow me on <a class=link href=https://github.com/francescotonini>GitHub</a> or <a class=link href=https://twitter.com/toninifrancesco>Twitter</a> | <a class=link href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed target=_blank rel=noopener>CC BY-NC-SA 4.0</a></span></div></footer></div><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-84358665-4','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>